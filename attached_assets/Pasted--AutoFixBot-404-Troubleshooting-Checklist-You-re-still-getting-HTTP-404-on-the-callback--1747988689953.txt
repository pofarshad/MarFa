# **AutoFixBot 404 Troubleshooting Checklist**

> Youâ€™re still getting `HTTPÂ 404` on the callback from GitHub â†’ AutoFixBot. This means the request **reached** the host but hit the wrong path. Follow this checklist in order; tick each box as you confirm it.

---

## 1Â Â Confirm Bot URL & Path

| Step | Command / Action                                         | Expected                             |
| ---- | -------------------------------------------------------- | ------------------------------------ |
| 1.1  | Open browser to **`https://<publicâ€‘botâ€‘host>/`**         | Likely *404* (root not handled) âœ”    |
| 1.2  | Open **`https://<publicâ€‘botâ€‘host>/webhook`** in browser  | *404* (GET not allowed) âœ”            |
| 1.3  | `curl -X POST -d '{}' https://<publicâ€‘botâ€‘host>/webhook` | *400* or *401* (signature missing) âœ” |

If 1.2Â returns 404 **and** 1.3Â returns *404* â†’ your bot actually expects a **different path** (e.g. `/api/github`). Check your server code.

---

## 2Â Â Verify Secrets in GitHub

| Secret              | Should contain                                              | How to view                  |
| ------------------- | ----------------------------------------------------------- | ---------------------------- |
| `AUTOFIXBOT_URL`    | Full HTTPS URL **including `/webhook`**                     | Settings â†’ Secrets â†’ Actions |
| `GH_WEBHOOK_SECRET` | Same string in GitHub & Bot `process.env.GH_WEBHOOK_SECRET` | idem                         |

> **Common mistake:** `AUTOFIXBOT_URL` is just domain without `/webhook` â†’ GitHub calls root â†’ 404.

---

## 3Â Â Echo Secret in Dispatcher Workflow (debug)

Add one line temporarily to dispatcher step:

```yaml
- name: Debug URL
  run: echo "BOT_URL=$BOT_URL"
  env:
    BOT_URL: ${{ secrets.AUTOFIXBOT_URL }}
```

Rerun workflow â†’ ensure path matches `/webhook`.

---

## 4Â Â Check Bot Logs

In Replit console:

* **No log entry** â†’ GitHub hit wrong path (still 404). Fix URL.
* **Log shows request but rejects â€œsignature mismatchâ€** â†’ Secret mismatch. Ensure SHAâ€‘256 HMAC uses same secret.

---

## 5Â Â Update & Test

1. Fix `AUTOFIXBOT_URL` secret to correct path.
2. Push empty commit to trigger new failed workflow purposely (`git commit --allow-empty -m "test failure"`).
3. Observer dispatcher job.

### Expected

```
ğŸ“¡ Calling AutoFixBot at: https://â€¦/webhook
âœ… AutoFixBot response: 204 No Content
```

Then AutoFixBot should create PR or issue.

---

## 6Â Â After Success

* Remove debug echo step.
* Keep secrets stable.
* Document URL & secret in team README.

---

**If still stuck:** attach

* Dispatcher job log (with BOT\_URL echo).
* cURL test output for POST to /webhook.
* First 10Â lines of Replit console when request arrives.

We can pinpoint next from there.
