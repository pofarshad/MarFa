# **CI Re‑validation – Immediate Next Steps**

> *Goal:* Confirm that the new `app/` module structure resolves wrapper/manifest lookup errors, then greenlight alpha build.

---

## 1 • Local Build Smoke‑Test

```bash
# From repo root
./gradlew :app:assembleDebug    # ensure successful compilation
./gradlew :app:lintDebug        # verify no lint regressions
```

*Expected outcome:* `BUILD SUCCESSFUL` and APK at `app/build/outputs/apk/debug/app-debug.apk`.

---

## 2 • Migrate Source Files

| Step | Path                                                               | Status |
| ---- | ------------------------------------------------------------------ | ------ |
| 1    | Move Kotlin src → `app/src/main/kotlin/<package>/`                 | ☐      |
| 2    | Move resource XML → `app/src/main/res/`                            | ☐      |
| 3    | Update packageName in `AndroidManifest.xml` to match new structure | ☐      |

---

## 3 • Push & Trigger CI

1. Commit migration: `feat(module): move sources into app module (#STU-5)`.
2. Push branch `ci/module-structure-fix` and open PR.
3. GitHub Actions workflow should now locate `app/gradle.build.kts` & manifest.
   *Success gate:* All three workflows (`CI/CD`, `Fixed Pipeline`, `Build APK`) turn **green**.

---

## 4 • If CI Still Fails

| Failing Step             | Likely Cause             | Quick Fix                                              |
| ------------------------ | ------------------------ | ------------------------------------------------------ |
| `dependencyCheckAnalyze` | wrapper path still wrong | add `working-directory: ./` or `./app` everywhere      |
| `assembleRelease`        | package mismatches       | align `applicationId` in `build.gradle.kts` & manifest |
| `upload-artifact`        | action version           | ensure all `v4` across workflows                       |

---

## 5 • Path to `v1.1.0-alpha1`

* Once CI is green on PR, merge → main.
* Tag `v1.1.0-alpha1` and let workflow publish APK & SHA‑256.

---

*After local build passes, proceed to migrate sources and push to validate on CI.*
